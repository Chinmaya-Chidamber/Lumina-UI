import{j as a}from"./jsx-runtime-CDt2p4po.js";import{R as h}from"./index-GiUgBvb1.js";function u({data:s,columns:c,loading:$=!1,selectable:i=!1,onRowSelect:l,emptyText:K="No data"}){const[p,z]=h.useState(null),[d,T]=h.useState(!0),[k,S]=h.useState(new Set);function M(e){p===e?T(r=>!r):(z(e),T(!0))}const g=h.useMemo(()=>{if(!p)return s;const e=c.find(t=>t.key===p);if(!e)return s;const r=[...s];return r.sort((t,o)=>{const n=t[e.dataIndex],m=o[e.dataIndex];return n==null&&m==null?0:n==null?d?-1:1:m==null?d?1:-1:typeof n=="number"&&typeof m=="number"?d?n-m:m-n:d?String(n).localeCompare(String(m)):String(m).localeCompare(String(n))}),r},[s,c,p,d]),N=i&&s.length>0&&k.size===s.length;function O(){if(i)if(N)S(new Set),l==null||l([]);else{const e=new Set(g.map(r=>r.id).filter(Boolean));S(e),l==null||l(g.filter(r=>r.id!=null))}}function F(e,r){if(!i)return;const t=new Set(k);t.has(e)?t.delete(e):t.add(e),S(t),l==null||l(g.filter(o=>o.id!=null&&t.has(o.id)))}return a.jsx("div",{className:"w-full border rounded-xl overflow-hidden bg-white dark:bg-gray-800",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[i&&a.jsx("th",{className:"p-3 w-10",children:a.jsx("input",{type:"checkbox","aria-label":"Select all rows",checked:N,onChange:O})}),c.map(e=>{const r=p===e.key,t=e.sortable&&r?d?"ascending":"descending":"none";return a.jsx("th",{scope:"col",className:"text-left p-3 font-medium text-gray-900 dark:text-white select-none","aria-sort":t,children:e.sortable?a.jsxs("button",{type:"button",onClick:()=>M(e.key),className:"inline-flex items-center gap-1 underline focus:outline-none","aria-label":`Sort by ${e.title}`,children:[e.title,r?d?"▲":"▼":""]}):e.title},e.key)})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-900",children:$?a.jsx("tr",{children:a.jsx("td",{className:"p-6 text-center text-gray-500 dark:text-white",colSpan:c.length+(i?1:0),children:"Loading..."})}):g.length===0?a.jsx("tr",{children:a.jsx("td",{className:"p-6 text-center text-gray-500 dark:text-white",colSpan:c.length+(i?1:0),children:K})}):g.map((e,r)=>{const t=e.id??r,o=i&&k.has(t);return a.jsxs("tr",{"aria-selected":o||void 0,className:`border-t hover:bg-gray-50 dark:hover:bg-gray-800 ${o?"bg-gray-100 dark:bg-gray-700":""}`,children:[i&&a.jsx("td",{className:"p-3",children:a.jsx("input",{type:"checkbox","aria-label":`Select row ${r+1}`,checked:o,onChange:()=>F(t)})}),c.map(n=>a.jsx("td",{className:"p-3 text-gray-900 dark:text-white",children:String(e[n.dataIndex]??"")},n.key))]},t)})})]})})})}u.__docgenInfo={description:"",methods:[],displayName:"DataTable",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"Column",elements:[{name:"T"}],raw:"Column<T>"}],raw:"Column<T>[]"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},selectable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onRowSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedRows: T[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"T"}],raw:"T[]"},name:"selectedRows"}],return:{name:"void"}}},description:""},emptyText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'No data'",computed:!1}}}};const j=[{key:"name",title:"Name",dataIndex:"name",sortable:!0},{key:"email",title:"Email",dataIndex:"email",sortable:!0},{key:"role",title:"Role",dataIndex:"role",sortable:!0}],V=[{id:1,name:"Chinmaya",email:"Chinmaya@gmail.com",role:"Admin"},{id:2,name:"Ritik",email:"Ritik@gmail.com",role:"User"},{id:3,name:"Bhuban",email:"Bhuban@gmail.com",role:"User"},{id:4,name:"Biswajit",email:"Biswajit@gmail.com",role:"Admin"},{id:5,name:"Bedika",email:"Bedika@gmail.com",role:"User"},{id:6,name:"Chandan",email:"Chandan@gmail.com",role:"User"},{id:7,name:"Bismay",email:"Bismay@gmail.com",role:"User"},{id:8,name:"Sneha",email:"Sneha@gmail.com",role:"User"},{id:9,name:"Adyasha",email:"Adyasha@gmail.com",role:"User"}],J={title:"Components/DataTable",component:u,parameters:{layout:"fullscreen"}},x={render:s=>a.jsx(u,{...s,data:V,columns:j})},y={render:()=>a.jsx("div",{className:"p-6",children:a.jsx(u,{data:V,columns:j,selectable:!0,onRowSelect:s=>console.log(s)})})},f={render:()=>a.jsx(u,{data:[],columns:j,loading:!0})},b={render:()=>a.jsx(u,{data:[],columns:j})};var v,w,A;x.parameters={...x.parameters,docs:{...(v=x.parameters)==null?void 0:v.docs,source:{originalSource:`{
  render: args => <DataTable<User> {...args} data={data} columns={columns} />
}`,...(A=(w=x.parameters)==null?void 0:w.docs)==null?void 0:A.source}}};var C,B,U;y.parameters={...y.parameters,docs:{...(C=y.parameters)==null?void 0:C.docs,source:{originalSource:`{
  render: () => <div className="p-6">\r
      <DataTable<User> data={data} columns={columns} selectable onRowSelect={rows => console.log(rows)} />\r
    </div>
}`,...(U=(B=y.parameters)==null?void 0:B.docs)==null?void 0:U.source}}};var D,I,q;f.parameters={...f.parameters,docs:{...(D=f.parameters)==null?void 0:D.docs,source:{originalSource:`{
  render: () => <DataTable<User> data={[]} columns={columns} loading />
}`,...(q=(I=f.parameters)==null?void 0:I.docs)==null?void 0:q.source}}};var E,_,L;b.parameters={...b.parameters,docs:{...(E=b.parameters)==null?void 0:E.docs,source:{originalSource:`{
  render: () => <DataTable<User> data={[]} columns={columns} />
}`,...(L=(_=b.parameters)==null?void 0:_.docs)==null?void 0:L.source}}};const P=["Basic","SortableAndSelectable","Loading","Empty"];export{x as Basic,b as Empty,f as Loading,y as SortableAndSelectable,P as __namedExportsOrder,J as default};
